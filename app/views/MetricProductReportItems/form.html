#{extends 'main.html' /}
#{set title:messages.get('metricProductReportItem') /}
#{set 'moreScripts'}
<script type="text/javascript">
    $(document).ready(function()
    {
        createAutocomplete($('#metricProductReportItem_metricProduct_id'), "@{MetricProducts.search}", #{jsAction @MetricProducts.popover(':id') /}, "${messages.get('metricProduct')}");
    });
</script>
#{/set}


#{form @save()}

#{field property:'metricProductReportItem.id', object:metricProductReportItem}
<input type="hidden" value="${field.value}" name="${field.name}"/>
#{/field}

#{field property:'metricProductReportItem.report.id', object:metricProductReportItem}
<input type="hidden" value="${field.value}" name="${field.name}"/>
#{/field}

<fieldset>
    <legend>&{'metricProductReportItem'}</legend>

    %{
        help = "";
        if(metricProductReportItem?.metricProduct?.id != null) {
            args = new java.util.HashMap<String, Object>();
            args.put('id', metricProductReportItem.metricProduct.id);
            help = '<span class="label" rel="popover" title="' + messages.get('metricProduct') + '" data-content="' + play.mvc.Router.reverse('MetricProducts.popover', args) + '">Info</span>';
        }
    }%

    #{autocompleteTextField property:'metricProductReportItem.metricProduct.id', object:metricProductReportItem, label:metricProductReportItem?.metricProduct?.label, help:help.raw() /}

    #{textField property:'metricProductReportItem.amount', object:metricProductReportItem /}
</fieldset>

<div class="actions">
    <input type="submit" class="btn primary" value="&{'submit'}">
    <a href="@{Reports.show(metricProductReportItem.report.id)}" class="btn">&{'cancel'}</a>
</div>
#{/form}