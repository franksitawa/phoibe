#{extends 'main.html' /}
#{set title:messages.get('creditor') /}

#{set 'moreScripts'}
<script type="text/javascript">
    $(document).ready(function()
    {
        $('#creditor_due').datepicker( $.datepicker.regional[ "de" ] );

        createAutocomplete($('#creditor_supplier_id'), "@{Contacts.search}");
    });
</script>
#{/set}

#{form @save()}
#{field property:'creditor.id', object:creditor}
<input type="hidden" value="${field.value}" name="${field.name}"/>
#{/field}

<fieldset>
    <legend>&{'creditor'}</legend>

    #{autocompleteTextField property:'creditor.supplier.id', object:creditor, label:creditor?.supplier?.label /}

    #{textField property:'creditor.reference', object:creditor /}

    #{textField property:'creditor.amount.rawValue', object:creditor, label:defaultCurrency.getCurrencyCode() /}

    #{field property:'creditor.amount.currencyCode', object:creditor}
    <input type="hidden" value="${defaultCurrency.getCurrencyCode()}" name="${field.name}"/>
    #{/field}

    #{textField property:'creditor.due', object:creditor, value:creditor?.due?.format() /}
</fieldset>

<div class="actions">
    <input type="submit" class="btn primary" value="&{'submit'}">
    <a href="@{index}" class="btn">&{'cancel'}</a>
</div>
#{/form}